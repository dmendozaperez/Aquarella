<Controls:MetroWindow x:Class="Integrado.Sistemas.Ventas.FacturacionDirecta"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:Controls="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"   
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Integrado.Sistemas.Ventas"   
        xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol" xmlns:GrayscaleEffect="clr-namespace:GrayscaleEffect;assembly=GrayscaleEffect" xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"                
        Title="PAGINA FACTURACION [SISTEMA AQUARELLA]"
        Icon="/Integrado;component/Design/Icono/sistema_ico.ico"
        ShowIconOnTitleBar="True"
        ShowTitleBar="True"
        WindowStartupLocation="CenterScreen"        
        GlowBrush="{DynamicResource AccentColorBrush}"
        NonActiveGlowBrush="#CDFF0000"        
        Height="710"
        Width="1300"              
        ResizeMode="CanMinimize"                      
        WindowState="Maximized" Loaded="MetroWindow_Loaded">
    <Controls:MetroWindow.Flyouts>
        <Controls:FlyoutsControl x:Name="flyoutsControl">
            <Controls:Flyout Header="Modal"
                             Position="Right"
                             IsPinned="False"
                             Width="710" Theme="Adapt"  >
                <StackPanel Height="360"
                            Margin="0,0,0,0"
                            Orientation="Horizontal" HorizontalAlignment="Center">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="560"></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"></RowDefinition>
                            <RowDefinition Height="*"></RowDefinition>
                        </Grid.RowDefinitions>
                        <Grid Grid.Row="0" Margin="0,-120,0,0" HorizontalAlignment="Center">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="300"></ColumnDefinition>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="270"></RowDefinition>
                            </Grid.RowDefinitions>
                            <Grid Grid.Row="0" Grid.Column="0">
                                <Border BorderBrush="{DynamicResource AccentColorBrush}"
                                Margin="10"
                                 BorderThickness="2">
                                    <Image Name="imgfoto"  HorizontalAlignment="Center" VerticalAlignment="Center" Height="250" Width="250" ></Image>
                                </Border>
                            </Grid>

                        </Grid>
                        <Grid Grid.Row="1" Margin="0,-50,0,0">
                            <dxlc:GroupBox Margin="0,60,0,0" FontWeight="Bold" Content="Información del articulo" Background="Transparent" HorizontalAlignment="Center" Height="450" Width="720"  />
                            <Grid Margin="0,80,0,0">
                                <DataGrid x:Name="dg1" HorizontalAlignment="Left"  Width="auto" AutoGenerateColumns="False" CanUserAddRows="False" CanUserDeleteRows="False"   IsReadOnly="True"   GridLinesVisibility="All" SelectionUnit="CellOrRowHeader" AlternatingRowBackground="#EEF6FF"  >
                                    <DataGrid.Columns>
                                        <DataGridTemplateColumn Visibility="Collapsed">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                                        <Image Source="{Binding articulo_foto}" Visibility="Collapsed"
                                                       Height="56" Width="66" 
                                                       VerticalAlignment="Center"
                                                       Grid.RowSpan="2" />
                                                    </StackPanel>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTextColumn Binding="{Binding articulo_venta}" ClipboardContentBinding="{x:Null}" Header="Articulo"></DataGridTextColumn>
                                        <DataGridTextColumn Binding="{Binding articulo_marca}" ClipboardContentBinding="{x:Null}" Header="Marca"></DataGridTextColumn>
                                        <DataGridTextColumn Binding="{Binding articulo_color}" Visibility="Collapsed" ClipboardContentBinding="{x:Null}" Header="Color"></DataGridTextColumn>
                                        <DataGridTextColumn Binding="{Binding preciosinigv, StringFormat=\{0:C2\}}"  ClipboardContentBinding="{x:Null}" Header="Precio"></DataGridTextColumn>
                                        <DataGridTextColumn Binding="{Binding preciosigv, StringFormat=\{0:C2\}}" ClipboardContentBinding="{x:Null}" Header="Prec.IGV"></DataGridTextColumn>
                                        <DataGridTemplateColumn Header="Tallas - Cantidades" Width="SizeToCells">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <ListBox KeyboardNavigation.TabNavigation="Local" ItemsSource="{Binding Path=ven_tall}" BorderBrush="White">
                                                        <ListBox.ItemsPanel>
                                                            <ItemsPanelTemplate>
                                                                <StackPanel Orientation="Horizontal"></StackPanel>
                                                            </ItemsPanelTemplate>
                                                        </ListBox.ItemsPanel>
                                                        <ListBox.ItemTemplate>
                                                            <DataTemplate>
                                                                <StackPanel HorizontalAlignment="Center" 
                                                                FlowDirection="LeftToRight" 
                                                                Orientation="Vertical">
                                                                    <TextBlock Text="{Binding Path=_talla}" 
                                                                       TextAlignment="Center"  Foreground="Black" 
                                                                       Width="35" VerticalAlignment="Top" 
                                                                       ToolTip="Talla" FontWeight="Bold" ></TextBlock>
                                                                    <TextBlock Text="{Binding Path=_cant}" 
                                                                       TextAlignment="Center"  Foreground="Red" Background="Khaki"
                                                                       Width="35" VerticalAlignment="Top"
                                                                       ToolTip="Talla"></TextBlock>
                                                                    <TextBox Name="txteditcant"  Background="#FFB5F08C" Text="{Binding Mode=TwoWay,Path=_edit_talla}" Width="35" BorderBrush="Silver" 
                                                                     TextAlignment="Center" MaxLength="2" ToolTip="Campo De Modificación De Cantidades" KeyDown="txteditcant_KeyDown"></TextBox>
                                                                </StackPanel>
                                                            </DataTemplate>
                                                        </ListBox.ItemTemplate>
                                                    </ListBox>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn>
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                                        <Button Name="btnagregarart"
                                                        Background="Transparent" Foreground="Transparent" 
                                                        BorderBrush="Transparent" BorderThickness="0"
                                                        Cursor="Hand"  ToolTip="Agregar tallas"       
                                                    CommandParameter="{Binding Path= articulo_venta}" Click="btnagregarart_Click">
                                                            <Image Source="/Integrado;component/Design/Images/16 (Plus).ico"
                                                       Height="23" Width="23" 
                                                       VerticalAlignment="Bottom"
                                                       Grid.RowSpan="2" />
                                                        </Button>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                    </DataGrid.Columns>
                                </DataGrid>

                            </Grid>
                        </Grid>

                    </Grid>
                </StackPanel>
            </Controls:Flyout>
            <Controls:Flyout Header="Modal"
                             Position="Right"
                              IsPinned="False" Width="710" Theme="Adapt"  >
                <StackPanel Height="360"
                            Margin="0,0,0,0"
                            Orientation="Horizontal" HorizontalAlignment="Center">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="560"></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"></RowDefinition>
                            <RowDefinition Height="*"></RowDefinition>
                        </Grid.RowDefinitions>
                        <Grid Grid.Row="0" Margin="0,-120,0,0" HorizontalAlignment="Center">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="300"></ColumnDefinition>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="270"></RowDefinition>
                            </Grid.RowDefinitions>
                            <Grid Grid.Row="0" Grid.Column="0">
                                <Border BorderBrush="{DynamicResource AccentColorBrush}"
                                Margin="10"
                                 BorderThickness="2">
                                    <Image Name="imgfotoedit"  HorizontalAlignment="Center" VerticalAlignment="Center" Height="250" Width="250" ></Image>
                                </Border>
                            </Grid>

                        </Grid>
                        <Grid Grid.Row="1" Margin="0,-50,0,0">
                            <dxlc:GroupBox Margin="0,60,0,0" FontWeight="Bold" Content="Información del articulo" Background="Transparent" HorizontalAlignment="Center" Height="450" Width="720"  />
                            <Grid Margin="0,80,0,0">
                                <DataGrid x:Name="dg1edit" HorizontalAlignment="Left"  Width="auto" AutoGenerateColumns="False" CanUserAddRows="False" CanUserDeleteRows="False"   IsReadOnly="True"   GridLinesVisibility="All" SelectionUnit="CellOrRowHeader" AlternatingRowBackground="#EEF6FF"  >
                                    <DataGrid.Columns>
                                        <DataGridTemplateColumn Visibility="Collapsed">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                                        <Image Source="{Binding articulo_foto}" Visibility="Collapsed"
                                                       Height="56" Width="66" 
                                                       VerticalAlignment="Center"
                                                       Grid.RowSpan="2" />
                                                    </StackPanel>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTextColumn Binding="{Binding articulo_venta}" ClipboardContentBinding="{x:Null}" Header="Articulo"></DataGridTextColumn>
                                        <DataGridTextColumn Binding="{Binding articulo_marca}" ClipboardContentBinding="{x:Null}" Header="Marca"></DataGridTextColumn>
                                        <DataGridTextColumn Binding="{Binding articulo_color}" Visibility="Collapsed" ClipboardContentBinding="{x:Null}" Header="Color"></DataGridTextColumn>
                                        <DataGridTextColumn Binding="{Binding preciosinigv, StringFormat=\{0:C2\}}" ClipboardContentBinding="{x:Null}" Header="Precio"></DataGridTextColumn>
                                        <DataGridTemplateColumn Header="Tallas - Cantidades" Width="SizeToCells">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <ListBox KeyboardNavigation.TabNavigation="Local" ItemsSource="{Binding Path=ven_tall}" BorderBrush="White">
                                                        <ListBox.ItemsPanel>
                                                            <ItemsPanelTemplate>
                                                                <StackPanel Orientation="Horizontal"></StackPanel>
                                                            </ItemsPanelTemplate>
                                                        </ListBox.ItemsPanel>
                                                        <ListBox.ItemTemplate>
                                                            <DataTemplate>
                                                                <StackPanel HorizontalAlignment="Center" 
                                                                FlowDirection="LeftToRight" 
                                                                Orientation="Vertical">
                                                                    <TextBlock Text="{Binding Path=_talla}" 
                                                                       TextAlignment="Center"  Foreground="Black" 
                                                                       Width="35" VerticalAlignment="Top" 
                                                                       ToolTip="Talla" FontWeight="Bold" ></TextBlock>
                                                                    <TextBlock Text="{Binding Path=_cant}" 
                                                                       TextAlignment="Center"  Foreground="Red" Background="Khaki"
                                                                       Width="35" VerticalAlignment="Top"  
                                                                       ToolTip="Talla"></TextBlock>
                                                                    <TextBox Name="txteditcant_talla" Background="#FFB5F08C"  Text="{Binding Mode=TwoWay,Path=_edit_talla}" Width="35" BorderBrush="Silver" 
                                                                     TextAlignment="Center" MaxLength="2" ToolTip="Campo De Modificación De Cantidades" KeyDown="txteditcant_KeyDown"></TextBox>
                                                                </StackPanel>
                                                            </DataTemplate>
                                                        </ListBox.ItemTemplate>
                                                    </ListBox>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn>
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                                        <Button Name="btneditrart"
                                                        Background="Transparent" Foreground="Transparent" 
                                                        BorderBrush="Transparent" BorderThickness="0"
                                                        Cursor="Hand"  ToolTip="Editar tallas del articulo"       
                                                    CommandParameter="{Binding Path= articulo_venta}" Click="btneditrart_Click" >
                                                            <Image Source="/Integrado;component/Design/Images/16 (Ok).ico"
                                                       Height="23" Width="23" 
                                                       VerticalAlignment="Bottom"
                                                       Grid.RowSpan="2" />
                                                        </Button>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                    </DataGrid.Columns>
                                </DataGrid>

                            </Grid>
                        </Grid>

                    </Grid>
                </StackPanel>
            </Controls:Flyout>
            <Controls:Flyout Name="xxx" Header="Modal"
                             Position="Right"
                             IsModal="True" Width="700" Theme="Adapt"  IsPinned="True">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="150"></RowDefinition>
                        <RowDefinition Height="200"></RowDefinition>
                        <RowDefinition Height="*"></RowDefinition>

                    </Grid.RowDefinitions>

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>


                    <GroupBox x:Name="groupBoxe" Header="Seleccione el modo de Pago" HorizontalAlignment="Center"  Width="670" Height="125" Grid.Row="0" Grid.Column="0" />
                    <Grid Grid.Row="0" Grid.Column="0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="80"></RowDefinition>
                            <RowDefinition Height="*"></RowDefinition>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"></ColumnDefinition>
                            <ColumnDefinition Width="160"></ColumnDefinition>
                            <ColumnDefinition Width="100"></ColumnDefinition>
                            <ColumnDefinition Width="*"></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Grid Grid.Column="3">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="60"></ColumnDefinition>
                                <ColumnDefinition Width="60"></ColumnDefinition>
                                <ColumnDefinition Width="60"></ColumnDefinition>
                                <ColumnDefinition Width="60"></ColumnDefinition>
                            </Grid.ColumnDefinitions>
                            <TextBox x:Name="txtnum1" Foreground="#FF184872" MaxLength="4" Background="Khaki"  Grid.Column="0" FontWeight="Bold" FontSize="16"  Width="auto"  Height="27" VerticalAlignment="Bottom" TextChanged="txtnum1_TextChanged" KeyDown="txtnum4_KeyDown"></TextBox>
                            <TextBox x:Name="txtnum2" Foreground="#FF184872" MaxLength="4" Background="Khaki" Grid.Column="1" FontWeight="Bold" FontSize="16"  Width="auto"  Height="27" VerticalAlignment="Bottom" TextChanged="txtnum2_TextChanged" KeyDown="txtnum4_KeyDown"></TextBox>
                            <TextBox x:Name="txtnum3" Foreground="#FF184872" MaxLength="4" Background="Khaki" Grid.Column="2" FontWeight="Bold" FontSize="16"  Width="auto"  Height="27" VerticalAlignment="Bottom" TextChanged="txtnum3_TextChanged" KeyDown="txtnum4_KeyDown"></TextBox>
                            <TextBox x:Name="txtnum4" Foreground="#FF184872" MaxLength="4" Background="Khaki" Grid.Column="3" FontWeight="Bold" FontSize="16"  Width="auto"  Height="27" VerticalAlignment="Bottom" KeyDown="txtnum4_KeyDown"></TextBox>

                        </Grid>
                        <Label Content="Forma de pago" VerticalAlignment="Bottom"  FontWeight="Bold" HorizontalAlignment="Center" FontSize="16"   Grid.Row="0" Grid.Column="0" ></Label>
                        <dxe:ComboBoxEdit  Name="dwforma" DisplayMember="con_descripcion" ValueMember="con_id"  Width="150" Height="32" Grid.Row="0" Cursor="Hand" Grid.Column="1" FontSize="18" FontWeight="Bold" HorizontalAlignment="Left" VerticalAlignment="Bottom"  IsTextEditable="False" KeyDown="dwforma_KeyDown" SelectedIndexChanged="dwforma_SelectedIndexChanged" />
                        <Label Content="Nro. Tarjeta" VerticalAlignment="Bottom" FontWeight="Bold" HorizontalAlignment="Center" FontSize="16"   Grid.Row="0" Grid.Column="2" ></Label>
                        <dxe:ComboBoxEdit  Name="dwtarjeta" DisplayMember="tarnom" Visibility="Hidden" ValueMember="idtarjeta"  Width="180" Height="35" Grid.Row="0" Cursor="Hand" Grid.Column="3" FontSize="18" FontWeight="Bold" HorizontalAlignment="Left" VerticalAlignment="Bottom"  ApplyItemTemplateToSelectedItem="True" IsTextEditable="False">
                            <dxe:ComboBoxEdit.ItemTemplate>
                                <DataTemplate>
                                    <!--<DockPanel Background="#31323e" Width="30" Height="30">-->
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="55"></ColumnDefinition>
                                            <ColumnDefinition Width="85"></ColumnDefinition>
                                        </Grid.ColumnDefinitions>
                                        <Image Stretch="Fill" Grid.Column="0"  Width="55" Height="32" Source="{Binding tarimagen}"></Image>
                                        <Label Content="{Binding tarnom}" FontSize="14" Grid.Column="1"></Label>
                                    </Grid>
                                    <!--</DockPanel>-->


                                    <!--<Image Stretch="Fill"  Width="58" Height="35" Source="{Binding tarimagen}"/>-->
                                </DataTemplate>
                            </dxe:ComboBoxEdit.ItemTemplate>
                        </dxe:ComboBoxEdit>
                        <Label Content="Monto" VerticalAlignment="Center"  FontWeight="Bold" HorizontalAlignment="Right" FontSize="16"   Grid.Row="1" Grid.Column="0" ></Label>
                        <!--<TextBox x:Name="txtmonto"  Grid.Column="1" FontSize="16" Grid.Row="1" Width="130"  Height="27" VerticalAlignment="Center" HorizontalAlignment="Left" />-->
                        <dxe:SpinEdit Name="txtmonto" DisplayFormatString="c2" Grid.Column="1" FontSize="16" Grid.Row="1" Width="130"  Height="27" VerticalAlignment="Center" HorizontalAlignment="Left" KeyDown="txtmonto_KeyDown" >
                            <dxe:SpinEdit.EditValue>
                                0.00
                            </dxe:SpinEdit.EditValue>
                        </dxe:SpinEdit>
                        <Button x:Name="btnagregar" Margin="-20,0,0,0" Grid.Column="2" Grid.Row="1" Height="25" Width="100" Cursor="Hand" VerticalAlignment="Center" HorizontalAlignment="Left" Click="btnagregar_Click" >
                            <Button.ToolTip>
                                <ToolTip>
                                    <StackPanel>
                                        <TextBlock FontWeight="Bold" TextAlignment="Left" ><Run Text="Agregar monto"/></TextBlock>
                                    </StackPanel>
                                </ToolTip>
                            </Button.ToolTip>
                            <Grid Width="140">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="7*" />
                                    <ColumnDefinition Width="54*" />
                                    <ColumnDefinition Width="80*" />
                                </Grid.ColumnDefinitions>
                                <Image Margin="5,0,0,0" Source="/Integrado;component/Design/Images/16 (Plus_over2).ico" Width="32" HorizontalAlignment="Left" Grid.ColumnSpan="2"/>
                                <TextBlock Text="Agregar" VerticalAlignment="Center" 
									Margin="-30,0,10,0" HorizontalAlignment="Center"  Grid.ColumnSpan="2" Grid.Column="1"/>
                            </Grid>
                        </Button>
                        <!--<WrapPanel Orientation="Vertical" Width="100" Grid.Column="3" Grid.Row="1">
                        <Label x:Name="lblinforma" VerticalAlignment="Bottom" Content=""  FontWeight="Bold" Foreground="Red" />
                        </WrapPanel>-->
                        <!--<Expander ExpandDirection="Right" IsExpanded="False" VerticalAlignment="Center" Width="250" Height="41" Grid.Column="3" Grid.Row="1">-->
                        <TextBlock Name="lblinforma" HorizontalAlignment="Left" TextWrapping="Wrap" Grid.Column="3" Grid.Row="1" VerticalAlignment="Center" MaxWidth="230" Foreground="Red">

                        </TextBlock>
                        <!--</Expander>-->
                    </Grid>
                    <Grid Grid.Row="1" Grid.Column="0">
                        <!--<TabControl x:Name="tabControl2e" HorizontalAlignment="Left"  Margin="0,0,0,0" VerticalAlignment="Top" >
                            <TabItem Header="&gt;Detalle de la forma de pago">-->
                        <Grid Background="#FFE5E5E5">
                            <DataGrid x:Name="dgforma" HorizontalAlignment="Left"  Width="690"   AutoGenerateColumns="False" CanUserAddRows="False" CanUserDeleteRows="False"   IsReadOnly="True"   GridLinesVisibility="All" SelectionUnit="CellOrRowHeader" AlternatingRowBackground="#EEF6FF"    >
                                <DataGrid.Columns>
                                    <DataGridTextColumn Binding="{Binding  forma_pago_nombre}" ClipboardContentBinding="{x:Null}" Header="Forma de Pago"/>
                                    <DataGridTextColumn Binding="{Binding tarjeta_nombre}" ClipboardContentBinding="{x:Null}" Header="Tarjeta">
                                    </DataGridTextColumn>
                                    <DataGridTextColumn Binding="{Binding tarjeta_numero}" ClipboardContentBinding="{x:Null}" Header="Nro tarjeta" />


                                    <DataGridTextColumn Binding="{Binding forma_monto, StringFormat=\{0:C2\}}" ClipboardContentBinding="{x:Null}" Header="Monto" >
                                        <DataGridTextColumn.ElementStyle>
                                            <Style TargetType="{x:Type TextBlock}">
                                                <Setter Property="TextAlignment" Value="Right"/>
                                            </Style>
                                        </DataGridTextColumn.ElementStyle>
                                    </DataGridTextColumn>
                                    <DataGridTemplateColumn Header="">
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                                    <Button x:Name="btneliminar" Style="{DynamicResource NoChromeButton}" Cursor="Hand" Click="btneliminar_Click" >
                                                        <Button.ToolTip>
                                                            <ToolTip>
                                                                <StackPanel>
                                                                    <TextBlock FontWeight="Bold" TextAlignment="Left" ><Run Text="Eliminar Registro"/></TextBlock>
                                                                    <TextBlock><Run Text="Eliminar Registro."/></TextBlock>
                                                                    <TextBlock><Run Text="No lo presione hasta estar seguro de eliminar registro."/></TextBlock>
                                                                </StackPanel>
                                                            </ToolTip>
                                                        </Button.ToolTip>
                                                        <Image Source="/Integrado;component/Design/Images/bt_delete.png" Height="16" Width="16" VerticalAlignment="Bottom" Grid.RowSpan="2"/>
                                                    </Button>
                                                </StackPanel>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>
                                </DataGrid.Columns>
                            </DataGrid>
                        </Grid>
                        <!--</TabItem>
                        </TabControl>-->
                    </Grid>
                    <Border Height="160" Width="655" 
                            HorizontalAlignment="Center" 
                            BorderBrush="White"                            
                            BorderThickness="1"                            
                            CornerRadius="2"                           
                            Grid.Column="0" 
                            Grid.Row="2"
                            Margin="0,0,0,0">



                        <Grid Grid.Row="2" Grid.Column="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="160"></ColumnDefinition>
                                <ColumnDefinition Width="240"></ColumnDefinition>
                                <ColumnDefinition Width="*"></ColumnDefinition>
                            </Grid.ColumnDefinitions>
                            <Grid Grid.Column="0" Grid.Row="0" Background="#FFE2E2B0"></Grid>
                            <Grid Grid.Column="1" Grid.Row="0" Background="#FFE2E2B0"></Grid>
                            <Button x:Name="btnaceptar" Grid.Column="0" Height="50" Width="120" Cursor="Hand" Click="btnaceptar_Click" >
                                <Button.ToolTip>
                                    <ToolTip>
                                        <StackPanel>
                                            <TextBlock FontWeight="Bold" TextAlignment="Left" ><Run Text="Aceptar la venta"/></TextBlock>
                                        </StackPanel>
                                    </ToolTip>
                                </Button.ToolTip>
                                <Grid Width="140">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="7*" />
                                        <ColumnDefinition Width="80*" />

                                    </Grid.ColumnDefinitions>
                                    <Image Margin="-3,0,0,0" Source="/Integrado;component/Design/Images/bt_Save.png" Width="32" HorizontalAlignment="Left" Grid.ColumnSpan="2"/>
                                    <TextBlock Text="Aceptar" VerticalAlignment="Center" Foreground="Black"
										Margin="-10,0,0,0" HorizontalAlignment="Center"   Grid.Column="1"/>
                                </Grid>
                            </Button>
                            <Button x:Name="btncancelare" Grid.Column="1" Margin="-50,0,0,0" Height="50" Width="120" Cursor="Hand" Click="btncancelare_Click" >
                                <Button.ToolTip>
                                    <ToolTip>
                                        <StackPanel>
                                            <TextBlock FontWeight="Bold" TextAlignment="Left" ><Run Text="Cancelar la operacion"/></TextBlock>
                                        </StackPanel>
                                    </ToolTip>
                                </Button.ToolTip>
                                <Grid Width="140">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="7*" />
                                        <ColumnDefinition Width="80*" />

                                    </Grid.ColumnDefinitions>
                                    <Image Margin="-3,0,0,0" Source="/Integrado;component/Design/Images/stop.ico" Width="32" HorizontalAlignment="Left" Grid.ColumnSpan="2"/>
                                    <TextBlock Text="Cancelar" VerticalAlignment="Center" Foreground="Black"
										Margin="0,0,0,0" HorizontalAlignment="Center"   Grid.Column="1"/>
                                </Grid>
                            </Button>

                            <Grid Grid.Column="2">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="160"></ColumnDefinition>
                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"></RowDefinition>
                                    <RowDefinition Height="*"></RowDefinition>
                                    <RowDefinition Height="*"></RowDefinition>
                                    <RowDefinition Height="*"></RowDefinition>
                                    <RowDefinition Height="*"></RowDefinition>
                                </Grid.RowDefinitions>

                                <Grid Grid.Column="0" Grid.Row="0" Background="#FFE2E2B0"></Grid>
                                <Grid Grid.Column="0" Grid.Row="1" Background="#FFE2E2B0"></Grid>
                                <Grid Grid.Column="0" Grid.Row="2" Background="#FFE2E2B0"></Grid>
                                <Grid Grid.Column="0" Grid.Row="3" Background="#FFD8361D"></Grid>
                                <Grid Grid.Column="0" Grid.Row="4" Background="#FFD8361D"></Grid>




                                <Grid Grid.Column="1" Grid.Row="0" Background="#FFE8CBD3"></Grid>
                                <Grid Grid.Column="1" Grid.Row="1" Background="#FFE8CBD3"></Grid>
                                <Grid Grid.Column="1" Grid.Row="2" Background="#FFE8CBD3"></Grid>
                                <Grid Grid.Column="1" Grid.Row="3" Background="#FFD8361D"></Grid>
                                <Grid Grid.Column="1" Grid.Row="4" Background="#FFD8361D"></Grid>
                                <Label Content="Total a Pagar:" Height="32" FontSize="16" FontWeight="Bold"  VerticalAlignment="Center" Grid.Row="0" Grid.Column="0" HorizontalAlignment="Right"  />
                                <Label Content="Efectivo:" Height="32" FontSize="16" FontWeight="Bold"  VerticalAlignment="Center" Grid.Row="1" Grid.Column="0" HorizontalAlignment="Right"  />
                                <Label Content="Tarjeta:" Height="32" FontSize="16" FontWeight="Bold"  VerticalAlignment="Center" Grid.Row="2" Grid.Column="0" HorizontalAlignment="Right"  />
                                <Label Content="Vuelto:" Foreground="White" Height="32" FontSize="16" FontWeight="Bold"  VerticalAlignment="Center" Grid.Row="3" Grid.Column="0" HorizontalAlignment="Right"  />
                                <Label Content="Saldo:" Foreground="White" Height="32" FontSize="16" FontWeight="Bold"  VerticalAlignment="Center" Grid.Row="4" Grid.Column="0" HorizontalAlignment="Right"  />

                                <Label Name="lbltpagare" Content="S/.0.00" Height="32" FontSize="16" FontWeight="Bold"  VerticalAlignment="Center" Grid.Row="0" Grid.Column="1" HorizontalAlignment="Right"  />
                                <Label Name="lblefectivo" Content="S/.0.00" Height="32" FontSize="16" FontWeight="Bold"  VerticalAlignment="Center" Grid.Row="1" Grid.Column="1" HorizontalAlignment="Right"  />
                                <Label Name="lbltarjeta" Content="S/.0.00" Height="32" FontSize="16" FontWeight="Bold"  VerticalAlignment="Center" Grid.Row="2" Grid.Column="1" HorizontalAlignment="Right"  />
                                <Label Name="lblvuelto" Foreground="White" Content="S/.0.00" Height="32" FontSize="16" FontWeight="Bold"  VerticalAlignment="Center" Grid.Row="3" Grid.Column="1" HorizontalAlignment="Right"  />
                                <Label Name="lblsaldo" Foreground="White" Content="S/.0.00" Height="32" FontSize="16" FontWeight="Bold"  VerticalAlignment="Center" Grid.Row="4" Grid.Column="1" HorizontalAlignment="Right"  />
                            </Grid>
                        </Grid>
                    </Border>
                </Grid>
                <!--<StackPanel Height="360"
                            Margin="0,0,0,0"
                            Orientation="Horizontal" HorizontalAlignment="Center">
                  
                       

                  
                </StackPanel>-->
            </Controls:Flyout>
            <Controls:Flyout Header="Left"
                             Position="Left" Theme="Accent" IsModal="True" >
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <Grid Grid.Column="0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="210"></RowDefinition>
                            <RowDefinition Height="40"></RowDefinition>
                            <RowDefinition Height="100"></RowDefinition>
                        </Grid.RowDefinitions>
                        <Grid Grid.Row="0">
                            <Grid>
                                <DataGrid x:Name="dgformanc" HorizontalAlignment="Left"  Width="440"  IsReadOnly="True"   AutoGenerateColumns="False" GridLinesVisibility="All" SelectionUnit="CellOrRowHeader" AlternatingRowBackground="White"   >
                                    <DataGrid.Columns>
                                        <DataGridTextColumn Binding="{Binding nc_num}" ClipboardContentBinding="{x:Null}" Header="[Num-Doc]"/>
                                        <DataGridTextColumn Binding="{Binding total_nc, StringFormat=\{0:C2\}}" ClipboardContentBinding="{x:Null}" Header="Monto" >
                                            <DataGridTextColumn.ElementStyle>
                                                <Style TargetType="{x:Type TextBlock}">
                                                    <Setter Property="TextAlignment" Value="Right"/>
                                                </Style>
                                            </DataGridTextColumn.ElementStyle>
                                        </DataGridTextColumn>
                                        <DataGridTemplateColumn Header="Seleccionar">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                                        <CheckBox Name="chkok" Cursor="Hand"  IsChecked="{Binding Path=chknota, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" HorizontalAlignment="Center" VerticalAlignment="Center" Click="chkok_Click"></CheckBox>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                    </DataGrid.Columns>
                                </DataGrid>
                            </Grid>
                        </Grid>
                        <Grid Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180"></ColumnDefinition>
                                <ColumnDefinition Width="*"></ColumnDefinition>
                            </Grid.ColumnDefinitions>
                            <Label Content="TOTAL" FontSize="16" FontWeight="Bold" Foreground="White" HorizontalAlignment="Right"></Label>
                            <Label Name="lbltotpagonc" Content="0.00" Grid.Column="1" FontSize="16" Foreground="White" FontWeight="Bold"></Label>
                        </Grid>
                        <Grid Grid.Row="2">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"></ColumnDefinition>
                                <ColumnDefinition Width="*"></ColumnDefinition>
                            </Grid.ColumnDefinitions>
                            <Button x:Name="btnaceptarnc" Grid.Column="0" Height="50" Width="120" Cursor="Hand" Click="btnaceptarnc_Click" >
                                <Button.ToolTip>
                                    <ToolTip>
                                        <StackPanel>
                                            <TextBlock FontWeight="Bold" TextAlignment="Left" ><Run Text="Aceptar"/></TextBlock>
                                        </StackPanel>
                                    </ToolTip>
                                </Button.ToolTip>
                                <Grid Width="140">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="7*" />
                                        <ColumnDefinition Width="80*" />

                                    </Grid.ColumnDefinitions>
                                    <Image Margin="-3,0,0,0" Source="/Integrado;component/Design/Images/16 (Ok).ico" Width="32" HorizontalAlignment="Left" Grid.ColumnSpan="2"/>
                                    <TextBlock Text="Aceptar" VerticalAlignment="Center" Foreground="Black"
										Margin="-10,0,0,0" HorizontalAlignment="Center"   Grid.Column="1"/>
                                </Grid>
                            </Button>
                            <Button x:Name="btncancelarnc" Grid.Column="1" Margin="-50,0,0,0" Height="50" Width="120" Cursor="Hand" Click="btncancelarnc_Click" >
                                <Button.ToolTip>
                                    <ToolTip>
                                        <StackPanel>
                                            <TextBlock FontWeight="Bold" TextAlignment="Left" ><Run Text="Cancelar"/></TextBlock>
                                        </StackPanel>
                                    </ToolTip>
                                </Button.ToolTip>
                                <Grid Width="140">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="7*" />
                                        <ColumnDefinition Width="80*" />

                                    </Grid.ColumnDefinitions>
                                    <Image Margin="-3,0,0,0" Source="/Integrado;component/Design/Images/stop.ico" Width="32" HorizontalAlignment="Left" Grid.ColumnSpan="2"/>
                                    <TextBlock Text="Cancelar" VerticalAlignment="Center" Foreground="Black"
										Margin="0,0,0,0" HorizontalAlignment="Center"   Grid.Column="1"/>
                                </Grid>
                            </Button>
                        </Grid>
                    </Grid>
                </Grid>
            </Controls:Flyout>
        </Controls:FlyoutsControl>
    </Controls:MetroWindow.Flyouts>

    <!--MODAL PARA EDITAR ARTICULO-->


    <!---->
        
    
    <Controls:MetroWindow.Resources>
        <ResourceDictionary>
         
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro.Resources;component/Icons.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/FlatSlider.xaml"/>
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Accents/BaseLight.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <Ellipse x:Key="AppThemeMenuIcon"
                     x:Shared="False"
                     Width="16"
                     Height="16"
                     StrokeThickness="1"
                     Stroke="{Binding BorderColorBrush, Mode=OneWay}"
                     Fill="{Binding ColorBrush, Mode=OneWay}" />
            <Ellipse x:Key="AccentMenuIcon"
                     x:Shared="False"
                     Width="16"
                     Height="16"
                     Fill="{Binding ColorBrush, Mode=OneWay}" />

            <Style x:Key="AppThemeMenuItemStyle"
                   TargetType="{x:Type MenuItem}"
                   BasedOn="{StaticResource MetroMenuItem}">
                <Setter Property="Command"
            		Value="{Binding ChangeAccentCommand}" />
                <Setter Property="Icon"
            		Value="{StaticResource AppThemeMenuIcon}" />
                <Setter Property="Header"
            		Value="{Binding Name, Mode=OneWay}" />
            </Style>

            <Style x:Key="AccentColorMenuItemStyle"
                   TargetType="{x:Type MenuItem}"
                   BasedOn="{StaticResource MetroMenuItem}">
                <Setter Property="Command"
            		Value="{Binding ChangeAccentCommand}" />
                <Setter Property="Icon"
            		Value="{StaticResource AccentMenuIcon}" />
                <Setter Property="Header"
            		Value="{Binding Name, Mode=OneWay}" />
            </Style>
            <!-- LayoutRoot Grid Style -->
    <Style x:Key="LayoutRootGridStyle" TargetType="{x:Type Grid}">
        <Setter Property="Background" Value="Transparent"/>
    </Style>
    <Style x:Key="NavigationOuterGridStyle" TargetType="{x:Type Grid}"/>
    <SolidColorBrush x:Key="NavigationBackgroundColorBrush" Color="#FF484848"/>
    <Style x:Key="NavigationGridStyle" TargetType="{x:Type Grid}">
        <Setter Property="Background" Value="{StaticResource NavigationBackgroundColorBrush}"/>
        <Setter Property="Height" Value="62"/>
        <Setter Property="Margin" Value="0"/>
        <Setter Property="VerticalAlignment" Value="Top"/>
    </Style>
    <!-- Branding Border Style -->
    <Style x:Key="BrandingBorderStyle" TargetType="{x:Type Border}">
        <Setter Property="Height" Value="42"/>
        <Setter Property="Margin" Value="110,0,25,0"/>
        <Setter Property="VerticalAlignment" Value="Top"/>
        <Setter Property="HorizontalAlignment" Value="Left"/>
    </Style>
    <!-- Branding StackPanel Style -->
    <Style x:Key="BrandingStackPanelStyle" TargetType="{x:Type StackPanel}">
        <Setter Property="HorizontalAlignment" Value="Left"/>
        <Setter Property="Orientation" Value="Horizontal"/>
    </Style>
    <!-- Links Border Style -->
    <Style x:Key="LinksBorderStyle" TargetType="{x:Type Border}">
        <Setter Property="Height" Value="42"/>
        <Setter Property="Margin" Value="15,0,15,0"/>
        <Setter Property="HorizontalAlignment" Value="Right"/>
    </Style>
    <!-- Links StackPanel Style -->
    <Style x:Key="LinksStackPanelStyle" TargetType="{x:Type StackPanel}">
        <Setter Property="VerticalAlignment" Value="Center"/>
        <Setter Property="HorizontalAlignment" Value="Left"/>
        <Setter Property="Orientation" Value="Horizontal"/>
    </Style>
    <!-- Divider Style -->
    <Style x:Key="DividerStyle" TargetType="{x:Type Rectangle}">
        <Setter Property="Fill" Value="#1FFFFFFF"/>
        <!--<Setter Property="Stroke" Value="Transparent"/>-->
        <Setter Property="Width" Value="1"/>
        <Setter Property="Margin" Value="2,4,2,4"/>
    </Style>
    <Style x:Key="BarBottonHeader" TargetType="{x:Type Border}">
        <Setter Property="Background" Value="#FF949290"/>
        <Setter Property="Margin" Value="0,63,0,0"/>
        <Setter Property="Height" Value="25"/>
        <Setter Property="BorderThickness" Value="0,0,0,1"/>
        <Setter Property="BorderBrush" Value="#FFFFFFFF"/>
        <Setter Property="HorizontalAlignment" Value="Stretch"/>
        <Setter Property="VerticalAlignment" Value="Top"/>
    </Style>
    <Style x:Key="LoginPanelStyle" TargetType="{x:Type StackPanel}">
        <Setter Property="Orientation" Value="Horizontal"/>
        <Setter Property="HorizontalAlignment" Value="Right"/>
        <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
    </Style>
    <Style x:Key="SpacerStyle" TargetType="{x:Type TextBlock}">
        <Setter Property="FontSize" Value="11"/>
        <Setter Property="Foreground" Value="#FFFFFFFF"/>
        <Setter Property="HorizontalAlignment" Value="Right"/>
        <Setter Property="VerticalAlignment" Value="Center"/>
        <Setter Property="Margin" Value="6,2"/>
    </Style>
    <Style x:Key="DividerStyleSmoke" TargetType="{x:Type Rectangle}">
        <Setter Property="Fill" Value="#FFFFFF"/>
        <!--<Setter Property="Stroke" Value="Transparent"/>-->
        <Setter Property="Width" Value="1"/>
        <Setter Property="Margin" Value="2,4,2,4"/>
    </Style>
    <Style x:Key="LoginRegisterLinkStyle" TargetType="{x:Type Button}">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Margin" Value="0,2,30,2"/>
        <Setter Property="HorizontalContentAlignment" Value="Right"/>
        <Setter Property="VerticalContentAlignment" Value="Center"/>
        <Setter Property="FontSize" Value="11"/>
        <Setter Property="Foreground" Value="#FFFFFFFF"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Button}">
                    <Grid Cursor="{TemplateBinding Cursor}" Background="{TemplateBinding Background}">
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal"/>
                                <VisualState x:Name="MouseOver">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="contentPresenter" Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="00:00:00">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <Visibility>Collapsed</Visibility>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="Mouseover_Pressed" Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="00:00:00">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <Visibility>Visible</Visibility>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Pressed">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="Mouseover_Pressed" Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="00:00:00">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <Visibility>Visible</Visibility>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="contentPresenter" Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="00:00:00">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <Visibility>Collapsed</Visibility>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Disabled">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="DisabledOverlay" Storyboard.TargetProperty="Visibility">
                                            <DiscreteObjectKeyFrame KeyTime="0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <Visibility>Visible</Visibility>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="DisabledOverlay" Storyboard.TargetProperty="(FrameworkElement.HorizontalAlignment)">
                                            <DiscreteObjectKeyFrame KeyTime="00:00:00">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <HorizontalAlignment>Center</HorizontalAlignment>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="contentPresenter" Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="00:00:00">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <Visibility>Collapsed</Visibility>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                            <VisualStateGroup x:Name="FocusStates">
                                <VisualState x:Name="Focused">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="Mouseover_Pressed" Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="00:00:00">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <Visibility>Visible</Visibility>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="contentPresenter" Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="00:00:00">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <Visibility>Collapsed</Visibility>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Unfocused"/>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <ContentPresenter x:Name="contentPresenter" Content="{TemplateBinding Content}" ContentTemplate="{TemplateBinding ContentTemplate}" HorizontalAlignment="Stretch" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                        <TextBlock HorizontalAlignment="Stretch" x:Name="Mouseover_Pressed" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Visibility="Collapsed" Panel.ZIndex="1" Foreground="{StaticResource NavigationBackgroundColorBrush}" Text="{TemplateBinding Content}"/>
                        <TextBlock HorizontalAlignment="Stretch" x:Name="DisabledOverlay" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Visibility="Collapsed" Panel.ZIndex="1" Foreground="#FFAAAAAA" Text="{TemplateBinding Content}"/>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    </ResourceDictionary>
    </Controls:MetroWindow.Resources>
    <DockPanel>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="100" />
                <RowDefinition Height="*" />
                <RowDefinition Height="25" />
            </Grid.RowDefinitions>
            <Grid.Background>
                <ImageBrush  Stretch="UniformToFill"/>
            </Grid.Background>
            <Grid Grid.Row="0">
                <Grid x:Name="LayoutRoot" Style="{StaticResource LayoutRootGridStyle}" Grid.RowSpan="4" Grid.ColumnSpan="2">
                    <Grid Style="{StaticResource NavigationOuterGridStyle}" />
                    <Grid Style="{StaticResource NavigationOuterGridStyle}">
                        <Grid x:Name="NavigationGrid" Style="{StaticResource NavigationGridStyle}" Height="62" VerticalAlignment="Top">
                            <Border x:Name="BrandingBorder" Style="{StaticResource BrandingBorderStyle}">
                                <StackPanel x:Name="BrandingStackPanel" Style="{StaticResource BrandingStackPanelStyle}"/>
                            </Border>
                            <Border x:Name="LinksBorder" Style="{StaticResource LinksBorderStyle}">
                                <StackPanel x:Name="LinksStackPanel" Style="{StaticResource LinksStackPanelStyle}">
                                    <Rectangle Style="{StaticResource DividerStyle}" />
                                    <Button x:Name="btnsession" Cursor="Hand"   HorizontalAlignment="Left" Width="35" Height="35"  Style="{DynamicResource NoChromeButton}" Click="btnsession_Click"   >
                                        <Button.ToolTip>
                                            <ToolTip>
                                                <StackPanel>
                                                    <TextBlock FontWeight="Bold" TextAlignment="Left" ><Run Text="Adminsitrador del Sistema"/></TextBlock>
                                                    <TextBlock><Run Text="Cerrar Session de Usuario"/></TextBlock>
                                                    <TextBlock><Run Text="No lo presione hasta estar seguro de cerrar session del usuario."/></TextBlock>
                                                </StackPanel>
                                            </ToolTip>
                                        </Button.ToolTip>
                                        <Image Source="/Integrado;component/Design/images/reiniciar.png" Width="48" Margin="8,4,0,4"/>
                                    </Button>
                                    <Rectangle Style="{StaticResource DividerStyle}" />
                                    <Button x:Name="btnprincipal"  Cursor="Hand"   HorizontalAlignment="Left" Width="35" Height="35"  Style="{DynamicResource NoChromeButton}" Click="btnprincipal_Click"   >
                                        <Button.ToolTip>
                                            <ToolTip>
                                                <StackPanel>
                                                    <TextBlock FontWeight="Bold" TextAlignment="Left" ><Run Text="Pantalla Principal"/></TextBlock>
                                                    <TextBlock><Run Text="Menu Principal"/></TextBlock>
                                                    <TextBlock><Run Text="No lo presione hasta estar seguro de volver a la pantalla principal."/></TextBlock>
                                                </StackPanel>
                                            </ToolTip>
                                        </Button.ToolTip>
                                        <DockPanel>
                                            <Image Source="/Integrado;component/Design/images/windows-8.1-start-button.jpg"    Width="48" Margin="8,4,0,4"  />
                                        </DockPanel>
                                    </Button>
                                    <Rectangle Style="{StaticResource DividerStyle}" />
                                </StackPanel>
                            </Border>
                            <Image Margin="6,4,0,2" Source="/Integrado;component/Design/Images/aq_lineal.jpg" Width="205" Grid.Column="0" HorizontalAlignment="Left" />
                            <Label x:Name="lblnom_modulo" FontFamily="Georgia" Foreground="WhiteSmoke" FontSize="35" Margin="224,11,0,-5" HorizontalAlignment="Left" Grid.Column="0" Content="aa" Width="auto" FontStretch="Expanded"/>
                            <Rectangle Height="0" VerticalAlignment="Bottom" Fill="WhiteSmoke" HorizontalAlignment="Left" Width="189" Margin="130,0,0,26" />
                            <Label Visibility="Hidden"  FontFamily="Georgia" Foreground="WhiteSmoke" FontSize="10" Width="95" 
								HorizontalAlignment="Left" Margin="633,33,0,6" Content="Desktop Aplication"/>
                            <Label x:Name="lblhora" Margin="0,-5,177,25" Grid.Column="0" Content="02-12"  VerticalAlignment="Center" HorizontalAlignment="Right"   Width="auto" FontSize="24"  Foreground="White" FontFamily="Segoe UI Symbol" FontStretch="Expanded"/>
                            <Label x:Name="lblfecha" Margin="0,31,151,5" Grid.Column="0" Content="12-12-145"  VerticalAlignment="Center" HorizontalAlignment="Right"   Width="auto" FontSize="12"  Foreground="White" FontFamily="Segoe UI Symbol" FontStretch="Expanded"/>
                            <Label Name="lblnombre_login" Grid.Column="0" Grid.Row="0" Margin="0,20,35,452" VerticalAlignment="Center" HorizontalAlignment="Right"  Content="" Width="auto" FontSize="12"  Foreground="White" FontFamily="Segoe UI Symbol" FontStretch="Expanded" RenderTransformOrigin="-4.445,0.543" Grid.ColumnSpan="2"/>
                        </Grid>
                        <Border x:Name="bor" Style="{StaticResource BarBottonHeader}" Margin="0,63,0,0" Height="25"  VerticalAlignment="Top">
                            <Grid>
                                <StackPanel HorizontalAlignment="Left" Style="{StaticResource LoginPanelStyle}">
                                    <TextBlock x:Name="lblInfoUser" Style="{StaticResource SpacerStyle}"/>
                                </StackPanel>
                                <StackPanel x:Name="LinksLogin" Style="{StaticResource LoginPanelStyle}">
                                    <TextBlock Style="{StaticResource SpacerStyle}"/>
                                    <Rectangle Style="{StaticResource DividerStyleSmoke}" />
                                    <TextBlock Style="{StaticResource SpacerStyle}"/>
                                    <Button x:Name="btCloseSesion"   Style="{StaticResource LoginRegisterLinkStyle}" Content="Salir del Sistema" Click="btCloseSesion_Click"/>
                                    <!-- Gears -->
                                    <Rectangle Style="{StaticResource DividerStyleSmoke}" />
                                    <TextBlock Style="{StaticResource SpacerStyle}"/>
                                </StackPanel>
                            </Grid>
                        </Border>
                    </Grid>
                </Grid>
            </Grid>
            <StatusBar Grid.Row="2" Height="30" Margin="0,-3,0,0">
                <StatusBarItem Content="Usuario"/>
                <Separator Style="{StaticResource MetroStatusBarSeparator}" />
                <StatusBarItem>
                    <Label x:Name="lblusuario" Foreground="White" FontWeight="Bold" Content="david mendoza" Width="auto" Height="auto"/>
                </StatusBarItem>
                <StatusBarItem Content="{Binding SelectedItem.Header, ElementName=MainTabControl, Mode=OneWay}" />
            </StatusBar>
            <Grid Grid.Row="1" Margin="0,-30,0,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="200"></RowDefinition>
                    <RowDefinition Height="75"></RowDefinition>
                    <RowDefinition Height="230"></RowDefinition>
                    <RowDefinition Height="70"></RowDefinition>
                </Grid.RowDefinitions>
                <GroupBox x:Name="groupBox" Header="Datos del Documento" HorizontalAlignment="Center" VerticalAlignment="Center" Width="1305" Height="160" Grid.Row="0" />
                <Grid Grid.Row="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="850"></ColumnDefinition>
                        <ColumnDefinition Width="*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <Grid Grid.Column="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="240"></ColumnDefinition>
                            <ColumnDefinition Width="237"></ColumnDefinition>
                            <ColumnDefinition Width="100"></ColumnDefinition>
                            <ColumnDefinition Width="*"></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="95"></RowDefinition>
                            <RowDefinition Height="30"></RowDefinition>
                            <RowDefinition Height="25"></RowDefinition>
                            <RowDefinition Height="30"></RowDefinition>
                        </Grid.RowDefinitions>
                        <Label Content="Consultar por Dni o Ruc" VerticalAlignment="Bottom"  FontWeight="Bold" HorizontalAlignment="Right" FontSize="12"   Grid.Row="0" Grid.Column="0" ></Label>
                        <Label Content="Dni o Ruc" Margin="120,0,0,0"  FontWeight="Bold" HorizontalAlignment="Center" FontSize="12"  VerticalAlignment="Bottom" Grid.Row="1" Grid.Column="0" ></Label>
                        <Label Content="Nombres" Margin="120,0,0,0" FontWeight="Bold" HorizontalAlignment="Center" FontSize="12"  VerticalAlignment="Top" Grid.Row="2" Grid.Column="0" ></Label>
                        <Label Content="Direccioón" Margin="120,0,0,0"  FontWeight="Bold" HorizontalAlignment="Center" FontSize="12"  VerticalAlignment="Top" Grid.Row="3" Grid.Column="0" ></Label>
                        <TextBox Name="txtbuscarcli" MaxLength="11" Height="23" VerticalAlignment="Bottom" Grid.Row="0" HorizontalAlignment="Left" Width="136" KeyDown="txtbuscarcli_KeyDown" Grid.ColumnSpan="2" Margin="238,0,0,0" />
                        <Label Name="lbldniruc" Content="41149120"  FontWeight="Bold" HorizontalAlignment="Left" FontSize="12"  VerticalAlignment="Bottom" Grid.Row="1" Grid.Column="1" Background="#FF89D6C1" ></Label>
                        <Label Name="lblnombres" Content="David Mendoza Perez"  FontWeight="Bold" HorizontalAlignment="Left" FontSize="12"  VerticalAlignment="Top" Grid.Row="2" Grid.Column="1" Background="#FF89D6C1" ></Label>
                        <Label Name="lbldireccion" Content="Sin direccion"  FontWeight="Bold" HorizontalAlignment="Left" FontSize="12"  VerticalAlignment="Top" Grid.Row="3" Grid.Column="1" Background="#FF89D6C1" ></Label>
                        <Button x:Name="btndoc" Grid.Column="1" VerticalAlignment="Bottom" Grid.Row="0" Height="25" Width="100" Cursor="Hand" HorizontalAlignment="Right" Click="btndoc_Click">
                            <Button.ToolTip>
                                <ToolTip>
                                    <StackPanel>
                                        <TextBlock FontWeight="Bold" TextAlignment="Left" ><Run Text="Buscar Documento"/></TextBlock>
                                    </StackPanel>
                                </ToolTip>
                            </Button.ToolTip>
                            <Grid Width="140">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="7*" />
                                    <ColumnDefinition Width="54*" />
                                    <ColumnDefinition Width="80*" />
                                </Grid.ColumnDefinitions>
                                <Image Margin="5,0,0,0" Source="/Integrado;component/Design/Images/lupa.jpg" Width="32" HorizontalAlignment="Left" Grid.ColumnSpan="2"/>
                                <TextBlock Text="Cliente" VerticalAlignment="Center" 
									Margin="-30,0,10,0" HorizontalAlignment="Center"  Grid.ColumnSpan="2" Grid.Column="1"/>
                            </Grid>
                        </Button>
                        <Label Content="Tipo de Clente"  FontWeight="Bold" HorizontalAlignment="Center" FontSize="12"  VerticalAlignment="Bottom" Grid.Row="1" Grid.Column="2" ></Label>
                        <Label Content="Telefono"  FontWeight="Bold" HorizontalAlignment="Center" FontSize="12"  VerticalAlignment="Bottom" Grid.Row="2" Grid.Column="2" ></Label>
                        <Label Content="E-Mail"  FontWeight="Bold" HorizontalAlignment="Center" FontSize="12"  VerticalAlignment="Center" Grid.Row="3" Grid.Column="2" ></Label>
                        <Label Name="lbltipcli" Content="Promotor"  FontWeight="Bold" HorizontalAlignment="Left" FontSize="12"  VerticalAlignment="Bottom" Grid.Row="1" Grid.Column="3" Background="#FF89D6C1" ></Label>
                        <Label Name="lbltelefono" Content="9222-09876"  FontWeight="Bold" HorizontalAlignment="Left" FontSize="12"  VerticalAlignment="Bottom" Grid.Row="2" Grid.Column="3" Background="#FF89D6C1" ></Label>
                        <Label Name="lblemail" Content="david.mendoza@bata.com"  FontWeight="Bold" HorizontalAlignment="Left" FontSize="12"  VerticalAlignment="Top" Grid.Row="3" Grid.Column="3" Background="#FF89D6C1" ></Label>
                    </Grid>
                    <Grid Grid.Column="1" >
                        <GroupBox Name="grdoc" Height="90" Header="FACTURA" Width="200" Margin="0,10,0,0" VerticalAlignment="Center" HorizontalAlignment="Center"></GroupBox>
                        <Label Name="lblndoc"  Content="B031-00000001" FontSize="18" FontWeight="Bold" Foreground="Red" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,20,0,0"></Label>
                    </Grid>
                </Grid>
                <Grid Grid.Row="1"  Margin="0,-25,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="281*"/>
                        <ColumnDefinition Width="1013*"/>
                    </Grid.ColumnDefinitions>
                    <GroupBox Header="Buscar Articulo" HorizontalAlignment="Center"  VerticalAlignment="Center" Width="1306" Height="76" Grid.ColumnSpan="2" Margin="-6,10" />
                    <Grid Margin="0,40,0,0" Grid.ColumnSpan="2">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"></RowDefinition>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"></ColumnDefinition>
                            <ColumnDefinition Width="140"></ColumnDefinition>
                            <ColumnDefinition Width="180"></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Border Height="22" Width="32" 
                            HorizontalAlignment="Center" 
                            BorderBrush="Black"                            
                            BorderThickness="1"                            
                            CornerRadius="2"
                            ToolTip="Semaforo de adicion de empacado de artículos."
                            Grid.Column="3" 
                            Grid.Row="0"
                            Margin="400,0,0,0">
                            <Frame Name="pnlarticulo" HorizontalAlignment="Center" Margin="0,0,0,0"  Background="#FFFBF457" Grid.Column="3" Width="38" Height="25" Grid.Row="0" ></Frame>
                        </Border>
                        <Label Content="Articulo" Margin="20,-10,0,0" VerticalAlignment="Center" HorizontalAlignment="Center" Grid.Row="0" Grid.Column="0" FontSize="12" FontWeight="Bold"></Label>
                        <TextBox x:Name="txtarticulo" MaxLength="18" Grid.Column="1" Margin="0,-10,0,0" Grid.Row="0" Width="130" VerticalAlignment="Center" Height="23" HorizontalAlignment="Left" KeyDown="txtarticulo_KeyDown"/>
                        <CheckBox Name="chkbarra" Visibility="Hidden" Margin="0,-10,0,0" HorizontalAlignment="Left" VerticalAlignment="Center" Content="Sólo Código de Barras" Width="160" Grid.Column="2" FontSize="12" Cursor="Hand" FontWeight="Bold" Grid.Row="0"></CheckBox>
                        <Label Name="lblmensaje" Height="28" Width="340" Content="" Margin="0,0,0,0" HorizontalContentAlignment="Right" Grid.Column="3" Grid.Row="0"   Foreground="Maroon" ></Label>
                        <Label x:Name="lblinfo" Height="28" Margin="20,-10,0,0" Visibility="Collapsed" VerticalAlignment="Center" Content="&gt;El articulo no existeo no tiene stock en el almacen" Grid.Column="3" Grid.Row="0" HorizontalAlignment="Left" FontWeight="Bold" Foreground="#FF0068FF" FontStretch="Expanded"/>
                        <Button Name="btnarticulo" Cursor="Hand" Height="32" Margin="0,10,0,19" HorizontalAlignment="Left" VerticalAlignment="Center"  Width="180"  Grid.Column="2" Grid.Row="0" Click="btnarticulo_Click" >
                            <Button.ToolTip>
                                <ToolTip>
                                    <StackPanel>
                                        <TextBlock FontWeight="Bold" TextAlignment="Left" ><Run Text="Buscar Documento"/></TextBlock>
                                    </StackPanel>
                                </ToolTip>
                            </Button.ToolTip>
                            <Grid Width="170">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="30" />
                                    <ColumnDefinition Width="104" />
                                    <!--<ColumnDefinition Width="80*" />-->
                                </Grid.ColumnDefinitions>
                                <Image  Grid.Column="0" Source="/Integrado;component/Design/Images/b_all_in_list.gif" Width="32" HorizontalAlignment="Left" />
                                <TextBlock Text="Consultar stock de articulo" VerticalAlignment="Center" 
									  Margin="30,6,-34,0" Grid.ColumnSpan="2" Height="22"/>
                            </Grid>
                        </Button>
                    </Grid>
                </Grid>
                <Grid Grid.Row="2">
                    <TabControl x:Name="tabControl2" HorizontalAlignment="Left"  Margin="0,0,0,0" VerticalAlignment="Top" >
                        <TabItem Header="&gt;Detalle de articulos a facturar">
                            <Grid Background="#FFE5E5E5">
                                <DataGrid x:Name="dg0" HorizontalAlignment="Left"  Width="1305" AutoGenerateColumns="False" CanUserAddRows="False" CanUserDeleteRows="False"   IsReadOnly="True"   GridLinesVisibility="All" SelectionUnit="CellOrRowHeader" AlternatingRowBackground="#EEF6FF"  >
                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="" Width="25" 
                                                           Binding="{Binding key}" IsReadOnly="True" />

                                        <DataGridTextColumn Binding="{Binding articulo}" ClipboardContentBinding="{x:Null}" Header="Articulo"></DataGridTextColumn>
                                        <DataGridTextColumn Binding="{Binding marca}" ClipboardContentBinding="{x:Null}" Header="Marca"></DataGridTextColumn>
                                        <DataGridTextColumn Binding="{Binding color}" ClipboardContentBinding="{x:Null}" Header="Color"></DataGridTextColumn>
                                        <DataGridTextColumn Binding="{Binding precio , StringFormat=\{0:C2\}}" ClipboardContentBinding="{x:Null}" Header="Precio">
                                            <DataGridTextColumn.ElementStyle>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="TextAlignment" Value="Right"></Setter>
                                                </Style>
                                            </DataGridTextColumn.ElementStyle>
                                        </DataGridTextColumn>
                                        <DataGridTemplateColumn Header="Tallas - Cantidades" Width="SizeToCells">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <ListBox KeyboardNavigation.TabNavigation="Local" ItemsSource="{Binding Path=articulo_talla}" BorderBrush="White">
                                                        <ListBox.ItemsPanel>
                                                            <ItemsPanelTemplate>
                                                                <StackPanel Orientation="Horizontal"></StackPanel>
                                                            </ItemsPanelTemplate>
                                                        </ListBox.ItemsPanel>
                                                        <ListBox.ItemTemplate>
                                                            <DataTemplate>
                                                                <StackPanel HorizontalAlignment="Center" 
                                                                FlowDirection="LeftToRight" 
                                                                Orientation="Vertical">
                                                                    <TextBlock Text="{Binding Path=talla}" 
                                                                       TextAlignment="Center"  Foreground="Black" 
                                                                       Width="35" VerticalAlignment="Top" 
                                                                       ToolTip="Talla" FontWeight="Bold" ></TextBlock>
                                                                    <TextBlock Text="{Binding Path=cantidad}" 
                                                                       TextAlignment="Center"  Foreground="Red" Background="Khaki"
                                                                       Width="35" VerticalAlignment="Top" 
                                                                       ToolTip="Talla"></TextBlock>
                                                                </StackPanel>
                                                            </DataTemplate>
                                                        </ListBox.ItemTemplate>
                                                    </ListBox>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <!--<DataGridTemplateColumn>
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                                        <Button Name="btUnPackArticle"
                                                        Background="Transparent" Foreground="Transparent" 
                                                        BorderBrush="Transparent" BorderThickness="0"
                                                        Cursor="Hand"        
                                                    CommandParameter="{Binding Path= _pdv_article}">
                                                            <Image Source="/Integrado;component/Design/Images/16 (Plus).ico"
                                                       Height="23" Width="23" 
                                                       VerticalAlignment="Bottom"
                                                       Grid.RowSpan="2" />
                                                        </Button>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>-->
                                        <DataGridTextColumn Header="Total Cants." Width="Auto" CellStyle="{StaticResource CenterAlignedCellStyleY}" Binding="{Binding total_pares}" TextBlock.Foreground="Maroon" IsReadOnly="True" />
                                        <DataGridTextColumn Binding="{Binding comision , StringFormat=\{0:C2\}}" ClipboardContentBinding="{x:Null}" Header="Comision">
                                            <DataGridTextColumn.ElementStyle>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="TextAlignment" Value="Right"></Setter>
                                                </Style>
                                            </DataGridTextColumn.ElementStyle>
                                        </DataGridTextColumn>
                                        <DataGridTextColumn Binding="{Binding total_linea , StringFormat=\{0:C2\}}" ClipboardContentBinding="{x:Null}" Header="Total Linea">
                                            <DataGridTextColumn.ElementStyle>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="TextAlignment" Value="Right"></Setter>
                                                </Style>
                                            </DataGridTextColumn.ElementStyle>
                                        </DataGridTextColumn>

                                        <DataGridTemplateColumn>
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                                        <Button Name="btneditar_items" Cursor="Hand"
                                                        Background="Transparent" Foreground="Transparent" 
                                                        BorderBrush="Transparent" BorderThickness="0" ToolTip="Editar Items"
                                                    CommandParameter="{Binding Path= _articulo}" Click="btneditar_items_Click" >
                                                            <Image Source="/Integrado;component/Design/Images/editOrder.png"
                                                       Height="16" Width="16" 
                                                       VerticalAlignment="Bottom"
                                                       Grid.RowSpan="2" />
                                                        </Button>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn>
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                                        <Button Name="btneliminar_items" Cursor="Hand"
                                                        Background="Transparent" Foreground="Transparent" 
                                                        BorderBrush="Transparent" BorderThickness="0" ToolTip="Eliminar Items"
                                                    CommandParameter="{Binding Path= _articulo}" Click="btneliminar_items_Click">
                                                            <Image Source="../../Design/Images/bt_delete.png"
                                                       Height="16" Width="16" 
                                                       VerticalAlignment="Bottom"
                                                       Grid.RowSpan="2" />
                                                        </Button>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                    </DataGrid.Columns>
                                </DataGrid>
                            </Grid>
                        </TabItem>
                    </TabControl>
                </Grid>
                <Grid Grid.Row="3" Margin="8,0,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="370"/>
                        <ColumnDefinition Width="150"/>
                        <ColumnDefinition Width="900"/>
                    </Grid.ColumnDefinitions>
                    <dxlc:GroupBox  Background="#FFD9F1F1" Width="350" Grid.Column="0" Height="65" HorizontalAlignment="Left" Margin="0,0,0,0" VerticalAlignment="Top">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="320"/>
                                <!--<ColumnDefinition Width="10"/>
                                <ColumnDefinition Width="*"/>-->
                            </Grid.ColumnDefinitions>
                            <Button x:Name="btnefectivo" HorizontalAlignment="Center" Grid.Column="0" Cursor="Hand" Width="145" Background="#FFB2D897" Click="btnefectivo_Click">
                                <Button.ToolTip>
                                    <ToolTip>
                                        <StackPanel>
                                            <TextBlock FontWeight="Bold" TextAlignment="Left" ><Run Text="Efectivo"/></TextBlock>
                                            <TextBlock><Run Text="se abrira una ventana para pagar el documento."/></TextBlock>
                                            <TextBlock><Run Text="No lo presione hasta estar seguro de pagar el documento."/></TextBlock>
                                        </StackPanel>
                                    </ToolTip>
                                </Button.ToolTip>
                                <Grid Width="140">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="7*" />
                                        <ColumnDefinition Width="80*" />
                                        <ColumnDefinition Width="80*" />
                                    </Grid.ColumnDefinitions>
                                    <Image Margin="-3,0,0,0" Source="/Integrado;component/Design/Images/success.gif" Width="32" HorizontalAlignment="Left" Grid.ColumnSpan="2"/>
                                    <TextBlock Text="Pagar Documento" VerticalAlignment="Center" Foreground="Black"
										Margin="0,0,0,0" HorizontalAlignment="Center"  Grid.ColumnSpan="2" Grid.Column="1"/>
                                </Grid>
                            </Button>
                            <Button x:Name="btncancelar" HorizontalAlignment="Left" Margin="30,0,0,0" Grid.Column="1" Width="145" Cursor="Hand" Background="#FFB2D897" Click="btncancelar_Click">
                                <Button.ToolTip>
                                    <ToolTip>
                                        <StackPanel>
                                            <TextBlock FontWeight="Bold" TextAlignment="Left" ><Run Text="Cancelar documento"/></TextBlock>
                                            <TextBlock><Run Text="se cancelara el proceso de facturacion."/></TextBlock>
                                            <TextBlock><Run Text="No lo presione hasta estar seguro de cancelar la operacion."/></TextBlock>
                                        </StackPanel>
                                    </ToolTip>
                                </Button.ToolTip>
                                <Grid Width="140">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="7*" />
                                        <ColumnDefinition Width="80*" />
                                        <ColumnDefinition Width="80*" />
                                    </Grid.ColumnDefinitions>
                                    <Image Margin="-3,0,0,0" Source="/Integrado;component/Design/Images/bt_gears.png" Width="32" HorizontalAlignment="Left" Grid.ColumnSpan="2"/>
                                    <TextBlock Text="Cancelar Documento" VerticalAlignment="Center" Foreground="Black"
										Margin="0,0,0,0" HorizontalAlignment="Center"  Grid.ColumnSpan="2" Grid.Column="1"/>
                                </Grid>
                            </Button>
                            <!--<Button x:Name="btnnc" Grid.Column="3"  Margin="80,0,0,0" Cursor="Hand" Width="120" HorizontalAlignment="Right" Background="#FFB2D897">
                                <Button.ToolTip>
                                    <ToolTip>
                                        <StackPanel>
                                            <TextBlock FontWeight="Bold" TextAlignment="Left" ><Run Text="Pago (Nota de Credito)"/></TextBlock>
                                            <TextBlock><Run Text="Pagos con nota de credito."/></TextBlock>
                                            <TextBlock><Run Text="No lo presione hasta estar seguro de pagar con nota de credito."/></TextBlock>
                                        </StackPanel>
                                    </ToolTip>
                                </Button.ToolTip>
                                <Grid Width="140">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="7*" />
                                        <ColumnDefinition Width="80*" />
                                        <ColumnDefinition Width="80*" />
                                    </Grid.ColumnDefinitions>
                                    <Image Margin="-3,0,0,0" Source="/Integrado;component/Design/Images/b_app2.png" Width="32" HorizontalAlignment="Left" Grid.ColumnSpan="2"/>
                                    <TextBlock Text="[Nota de Credito]" VerticalAlignment="Center" Foreground="Black"
										Margin="0,0,0,0" HorizontalAlignment="Center"  Grid.ColumnSpan="2" Grid.Column="1"/>
                                </Grid>
                            </Button>-->
                        </Grid>
                    </dxlc:GroupBox>
                    <dxlc:GroupBox  Background="#FFE68062" Width="150" Grid.Column="1" Height="65" HorizontalAlignment="Left" Margin="-10,0,0,0" VerticalAlignment="Top">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>

                            </Grid.ColumnDefinitions>

                            <Button x:Name="btnnc" Grid.Column="0"  Margin="0,0,0,0" Cursor="Hand" Width="125" HorizontalAlignment="Left" Background="White" Click="btnnc_Click" >
                                <Button.ToolTip>
                                    <ToolTip>
                                        <StackPanel>
                                            <TextBlock FontWeight="Bold" TextAlignment="Left" ><Run Text="Pago (Nota de Credito)"/></TextBlock>
                                            <TextBlock><Run Text="Pagos con nota de credito."/></TextBlock>
                                            <TextBlock><Run Text="No lo presione hasta estar seguro de pagar con nota de credito."/></TextBlock>
                                        </StackPanel>
                                    </ToolTip>
                                </Button.ToolTip>
                                <Grid Width="140">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="7*" />
                                        <ColumnDefinition Width="80*" />
                                        <ColumnDefinition Width="80*" />
                                    </Grid.ColumnDefinitions>
                                    <Image Margin="-3,0,0,0" Source="/Integrado;component/Design/Images/b_app2.png" Width="32" HorizontalAlignment="Left" Grid.ColumnSpan="2"/>
                                    <TextBlock Foreground="Black" Text="[Nota de Credito]" VerticalAlignment="Center" 
										Margin="0,0,0,0" HorizontalAlignment="Center"  Grid.ColumnSpan="2" Grid.Column="1"/>
                                </Grid>
                            </Button>
                        </Grid>
                    </dxlc:GroupBox>
                    <dxlc:GroupBox  Background="#FFD4E2E1" Width="800" Grid.Column="2" Height="65" HorizontalAlignment="Left" Margin="0,0,0,0" VerticalAlignment="Top">
                        <Grid Margin="0,-15,0,0" Height="60">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="28"/>
                                <RowDefinition Height="35" />
                                <!--<RowDefinition Height="3"/>-->
                            </Grid.RowDefinitions>
                            <Label Content="Cantidades" Grid.Row="0" HorizontalAlignment="Center" Grid.Column="0" FontSize="12" FontWeight="Bold" VerticalAlignment="Top"/>
                            <Label Content="SubTotal" Grid.Row="0"  HorizontalAlignment="Right" Grid.Column="1" FontSize="12" FontWeight="Bold" VerticalAlignment="Bottom"/>
                            <Label Content="IGV" Grid.Row="0" HorizontalAlignment="Right" Grid.Column="2" FontSize="12" FontWeight="Bold" VerticalAlignment="Bottom"/>
                            <Label Content="NC(-)" Grid.Row="0" HorizontalAlignment="Right" Grid.Column="3" FontSize="12" FontWeight="Bold" VerticalAlignment="Bottom"/>
                            <Label Content="Total" Grid.Row="0" HorizontalAlignment="Right" Grid.Column="4" FontSize="12" FontWeight="Bold" VerticalAlignment="Bottom"/>
                            <Label Content="Percep." Grid.Row="0" HorizontalAlignment="Right" Grid.Column="5" FontSize="12" FontWeight="Bold" VerticalAlignment="Bottom"/>
                            <Label Content="Total a Pagar" Grid.Row="0" HorizontalAlignment="Right" Grid.Column="6" FontSize="12" FontWeight="Bold" VerticalAlignment="Bottom"/>
                            <Label x:Name="lblcantidad" Content="1" Grid.Row="1" HorizontalAlignment="Center" Grid.Column="0" FontSize="12" FontWeight="Bold" VerticalAlignment="Top"/>
                            <Label x:Name="lblsubtotal" Grid.Row="1" Content="S/.47.92"  HorizontalAlignment="Right" Grid.Column="1" FontSize="12" FontWeight="Bold" VerticalAlignment="Top" Margin="0,0,0,0" />
                            <Label x:Name="lbligv" Content="S/.47.92" HorizontalAlignment="Right" Grid.Column="2" Grid.Row="1" FontSize="12" FontWeight="Bold" VerticalAlignment="Top" Margin="0,0,0,0" />
                            <Label x:Name="lblnc" Content="S/.47.92" HorizontalAlignment="Right" Grid.Column="3" FontSize="12" FontWeight="Bold" Grid.Row="1" VerticalAlignment="Top" Margin="0,0,0,0" />
                            <Label x:Name="lbltotal" Content="S/.47.92" HorizontalAlignment="Right" Grid.Row="1" Grid.Column="4" FontSize="12" FontWeight="Bold" VerticalAlignment="Top" Margin="0,0,0,0"/>
                            <Label x:Name="lblper" Content="S/.47.92" HorizontalAlignment="Right" Grid.Column="5" FontSize="12" Grid.Row="1" FontWeight="Bold" VerticalAlignment="Top" Margin="0,0,0,0" />
                            <Label x:Name="lbltpagar" Content="S/.47.92" HorizontalAlignment="Right" Grid.Column="6" Grid.Row="1" Foreground="Red" FontSize="16" FontWeight="Bold" VerticalAlignment="Top" Margin="0,0,0,0" />
                        </Grid>
                    </dxlc:GroupBox>

                </Grid>
            </Grid>



        </Grid>

    </DockPanel>
</Controls:MetroWindow>
